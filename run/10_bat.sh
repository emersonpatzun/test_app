
# SET VARS
#export UNIDAD_DISCO=D:
export DIRECTORIO_PROYECTO="/Users/esipac/testing/app_demo/venture"
# UUID DEL DISPOSITIVO, OBTENERLO EJECUTANDO EN LA CMD: adb devices
export DEVICE=R58N338W06J
export DEVICE_NAME="Galaxy A71"
# NOMBRE DE LA APK DEBE COLOCARSE EN "../VENTURE/APK.APK"
export APP="app_demo.apk"
# NOMBRE DEL CUCUMBER PROFILE EN "../VENTURE/CONFIG/CUCUMBER.YML"
export CUCUMBER_PROFILE="adr"
# NOMBRE DEL ARCHIVO FEATURE A EJECUTAR
export FEATURE="01_login.feature"
# TAGS A FILTRAR EN LA EJECUCIÓN
export TAGS="\"@regresion\""
# VARIABLES PARA DETERMINAR EL NOMBRE DE LAS CARPETAS DE EVIDENCIA FECHA Y HORA DE EJECUCIÓN
export PATH_RESULTS="$(date +'evidencia/%d%m%Y/%H%M%S/')$DEVICE"

# IR A UNIDAD DE DISCO Y DIRECTORIO PARA CORRER CUCUMBER

cd $DIRECTORIO_PROYECTO

# CREAR DIRECTORIO DE RESULTADOS "PATH_RESULTS" S
mkdir "$PATH_RESULTS"

# EJECUTAR CALABASH
bundle exec calabash-android run $APP -t $TAGS ADB_DEVICE_ARG="$DEVICE" -p $CUCUMBER_PROFILE features/$FEATURE -f pretty -f html --out $PATH_RESULTS/reporte.html

pause

exit
